{{ define "main" }}

<h1 class="text-4xl md:text-4xl font-bold mb-6 flex items-center gap-2">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="48" height="48" class="inline-block fill-current text-current">
        <!-- [Folder] !Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
        <path d="M128 464L512 464C520.8 464 528 456.8 528 448L528 208C528 199.2 520.8 192 512 192L362.7 192C345.4 192 328.5 186.4 314.7 176L276.3 147.2C273.5 145.1 270.2 144 266.7 144L128 144C119.2 144 112 151.2 112 160L112 448C112 456.8 119.2 464 128 464zM512 512L128 512C92.7 512 64 483.3 64 448L64 160C64 124.7 92.7 96 128 96L266.7 96C280.5 96 294 100.5 305.1 108.8L343.5 137.6C349 141.8 355.8 144 362.7 144L512 144C547.3 144 576 172.7 576 208L576 448C576 483.3 547.3 512 512 512z"/>
    </svg>
    {{ i18n "folders.title" }}
</h1>
{{ .Content }}


{{ $terms := .Data.Terms.ByCount }}
{{ $type := .Type }}
<div class="grid grid-cols-2 sm:grid-cols-3 gap-6 pt-4">
    {{- range $terms -}}
        {{- $term := .Term -}}
        {{- $pages := .Pages -}}
        {{- with $.Site.GetPage "taxonomy" (printf "%v/%v" $type $term) -}}

        <!-- Folder Card -->
        <div class="rounded-lg border border-gray-200 dark:border-gray-700 shadow-lg p-4 hover:shadow-xl transition-shadow duration-200 ease-in-out">

            <!-- Folder Title + Number of Posts -->
            <div class="flex text-center mb-1 items-center gap-1 justify-center">
                <span class="font-bold text-2xl">
                    {{ .Page.Title }}
                </span>
            </div>
            <div class="flex items-center justify-center mb-2">
                <span class="text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" class="inline-block fill-current">
                        <!-- [Folder] !Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                        <path d="M128 464L512 464C520.8 464 528 456.8 528 448L528 208C528 199.2 520.8 192 512 192L362.7 192C345.4 192 328.5 186.4 314.7 176L276.3 147.2C273.5 145.1 270.2 144 266.7 144L128 144C119.2 144 112 151.2 112 160L112 448C112 456.8 119.2 464 128 464zM512 512L128 512C92.7 512 64 483.3 64 448L64 160C64 124.7 92.7 96 128 96L266.7 96C280.5 96 294 100.5 305.1 108.8L343.5 137.6C349 141.8 355.8 144 362.7 144L512 144C547.3 144 576 172.7 576 208L576 448C576 483.3 547.3 512 512 512z"/>
                    </svg>
                    {{ len $pages }} post{{ if ne (len $pages) 1 }}s{{ end }}
                </span>
            </div>

            <!-- Folder Description -->
            <div class="text-center">
                {{ with .Page.Params.description }}
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-2">{{ . }}</p>
                {{ end }}
            </div>

            <!-- Button to Open Folder -->
            <div class="text-center">
                <a href="{{ .RelPermalink }}" class="btn btn-sm btn-primary btn-outline mt-2">
                    {{ i18n "folders.open-folder" }}
                </a>
            </div>

        </div>
        {{- end -}}
    {{- end -}}
</div>

{{ end }}